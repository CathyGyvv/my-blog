高阶组件类似于高阶函数，它接受React组件作为输入，输出一个新的React组件。让代码具有复用性，逻辑性，抽象特性。



### 属性代理
重复的生命周期，先执行原有的，再执行高阶组件的 
1.操作props

2.获取refs

子组件：
```js
<div 
  ref={el => {
    if (this.props.inputRef) {
      this.props.inputRef(el); // 调用父组件传入的ref回调函数
    }
    this.inputElement = el;
  }}>
    12111
  </div>
```
高阶组件
```js
 componentDidMount() {
      console.log(this.inputElement, 'refffff');
    }
    render(){
      return <WrappedComponent {...this.props} {...newProps} inputRef={(el)=>{this.inputElement = el}}/>
    }
```


### 反向继承  
通过继承被包装的组件。 
重写原有组件的生命周期，执行高阶组件的生命周期。 
super.[] 调用原有组件的方法 
```js
const MyContainer = (WrappedComponent) =>
  class extends WrappedComponent {
    render() {
      return super.render();
    }
  }
```


高阶组件通过 this 访问到原组件，所以可以直接读取和操作原组件的 state/ref/生命周期方法。

读取/操作原组件的 state 



https://zhuanlan.zhihu.com/p/24776678


https://juejin.im/post/5e169204e51d454112714580?utm_source=gold_browser_extension



