## 同源策略
1.相同的源之间可以相互访问资源和操作dom的

let pdom = opener.document
pdom.body.style.display = "none"


2.读取cookie,localstorage

3.XMLHttpRequest发送的请求


整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的头信息origin，有时还会多出一次附加的请求，但用户不会有感觉。
origin说明本次请求来自哪个源，服务器根据这个值，决定是否同意这次请求。

如果Origin指定的源，不在许可范围内，服务器会返回一个正常的HTTP回应。浏览器发现，这个回应的头信息没有包含Access-Control-Allow-Origin字段（详见下文），就知道出错了，从而抛出一个错误，被XMLHttpRequest的onerror回调函数捕获。注意，这种错误无法通过状态码识别，因为HTTP回应的状态码有可能是200。

如果Origin指定的域名在许可范围内，服务器返回的响应，会多出几个头信息字段。

因此，实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。


## 防止XSS攻击

存储型 XSS 攻击、反射型 XSS 攻击和基于 DOM 的 XSS 攻击三种方式

开发者明确告诉客户端（制定比较严格的策略和规则），哪些外部资源是可以加载和执行的 ，即使攻击者发现漏洞，但是它是没办法注入脚本的
实质就是白名单制度，开发者明确告诉客户端，哪些外部资源可以加载和执行，等同于提供白名单。

启用csp有两种启用方式：
  1.通过HTTP头中的Content-Security-Policy
  2.meta标签

1.服务器对输入脚本进行过滤或转码



2.服务器可以将某些 Cookie 设置为 HttpOnly 标志，HttpOnly 是服务器通过 HTTP 响应头来设置的
无法通过js来读取cookie


和 XSS 不同的是，CSRF 攻击不需要将恶意代码注入用户的页面，仅仅是利用服务器的漏洞和用户的登录状态来实施攻击

### 防止CSRF攻击
1.cookie中的sameSite属性是strict，浏览器会禁止第三方的cookie发送到后端

2.在服务器端验证请求来源的站点，HTTP 请求头中的 Referer 和 Origin

3.非对称加密的登录方式认证


将 HTTP 数据提交给 TCP 层之后，数据会经过用户电脑、WiFi 路由器、运营商和目标服务器，在这中间的每个环节中，数据都有可能被窃取或篡改


http（没有经过加密） 数据链路层==》 IP ==》   TCP层 ==》 HTTP

https(经过加密的)   数据链路层 ==》 IP ==》 TCP层   ==》 SSL/TLS安全层  ==》 HTTP

安全层有两个主要的职责：对发起 HTTP 请求的数据进行加密操作和对接收到 HTTP 的内容进行解密操作

目前浏览器中对于同一个域名，默认允许同时建立 6 个 TCP 持久连接
