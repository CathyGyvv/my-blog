## 浏览器资源缓存的过程
DNS 缓存和页面资源缓存这两块数据是会被浏览器缓存的                           ==>无效==>向服务器请求==>存储策略(cache-control)==>加载资源   
                                ==>没有过期==>加载资源                  +
浏览器发起请求==>有缓存==>判断是否过期==>过期了==> 向服务器发起验证，资源是否有效==>有效==>304
           ==>没有缓存==>向服务器请求==>存储策略(cache-control)==>加载资源

资源可以在内存中缓存，可以在硬盘中缓存
内存：js 字体 图片 
硬盘：css


## 强缓存，协商（对比）缓存
强制缓存如果生效，不需要再和服务器发生交互，而对比缓存不管是否生效，都需要与服务端发生交互。
两类缓存规则可以同时存在，强制缓存优先级高于对比缓存，也就是说，当执行强制缓存的规则时，如果缓存生效，直接使用缓存，不再执行对比缓存规则。


当服务器返回 HTTP 响应头给浏览器时，浏览器是通过响应头中的 Cache-Control 字段来设置是否缓存该资源。通常，我们还需要为这个资源设置一个缓存过期时长，而这个时长是通过 Cache-Control 中的 Max-age 参数来设置的。

### cache-control
| 值 | 描述 |
| ------ | ------ |
| private | 客户端可以缓存 | 
| public | 客户端和代理服务器都可缓存（前端的同学，可以认为public和private是一样的） |
| max-age=xxx |  缓存的内容将在 xxx 秒后失效 | 
| no-cache | 需要使用对比缓存来验证缓存数据 | 
| no-store | 所有内容都不会缓存，强制缓存，对比缓存都不会触发 | 




这也就意味着，在该缓存资源还未过期的情况下, 如果再次请求该资源，会直接返回缓存中的资源给浏览器，也就是走强缓存策略。
但如果缓存过期了，浏览器则会继续发起网络请求，并且在 HTTP 请求头中带上：If-None-Match:"4f80f-13c-3a1xb12a"

服务器收到请求头后，会根据 If-None-Match 的值来判断请求的资源是否有更新
如果没有更新，就返回 304 状态码，相当于服务器告诉浏览器：“这个缓存可以继续使用，这次就不重复发送数据给你了，也就是对比缓存策略。
”如果资源有更新，服务器就直接返回最新资源给浏览器

浏览器中的缓存是一种在本地保存资源副本，它的大小是有限的，当我们请求数过多时，缓存空间会被用满，此时，继续进行网络请求就需要确定缓存中哪些数据被保留，哪些数据被移除，这就是浏览器缓存淘汰策略，最常见的淘汰策略有 FIFO（先进先出）、LFU（最少使用）、LRU（最近最少使用）

## 总结
缓存分为强缓存和协商缓存
强缓存：不会向服务器发送请求，直接从缓存中读取资源，每次访问本地缓存直接验证看是否过期，通过expires过期时间，cache-control缓存控制  

协商缓存：协商缓存命中，服务器会将这个请求返回304,通过Last-Modified/If-Mondified-since If-None-Match 控制

强缓存优于协商缓存进行，expires和cache-contrl生效则直接使用缓存


