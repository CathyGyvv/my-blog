<!DOCTYPE html>
<html>

<head>
  <title>拖放示例-文本</title>
</head>
<style>
  .box {
    width: 100px;
    height: 100px;
    border: 1px solid red;
  }
  .box:nth-of-type(1){
    margin: 1000px 0 0;
    
  }
</style>

<body>
  <div class="box">123</div>
  <div class="box">456</div>
</body>

</html>

<script>

  const img = document.querySelectorAll('.box') 

  console.log(img);

  const observer = new IntersectionObserver((changes) => {
    // changes: 目标元素集合
    changes.forEach((change) => {
      console.log(change,'change');
      // intersectionRatio
      if (change.isIntersecting) {
        // const img = change.target
        // img.src = img.dataset.src
        // observer.unobserve(img)
      }
    })
  })

  Array.from(img).forEach(item=> {
    observer.observe(item) 

  })


</script>
